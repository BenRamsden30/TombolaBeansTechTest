@page "/CoffeBeans"
@using TombolaBeansTechTest.Models
@using TombolaBeansTechTest.Pages
@inject CoffeeBeanService BeanService

<h3>Coffee Beans</h3>
<input @bind="searchQuery" placeholder="Search Beans..." class="form-control mb-3" />

@foreach (var bean in FilteredBeans)
{
    <div class="card mb-2 p-3">
        <h5>@bean.Name</h5>
        <p>Origin: @bean.Origin | Roast: @bean.RoastType</p>
        <p>@bean.Description</p>
        <p><strong>Price:</strong> $@bean.Price</p>
        <a href="/bean/@bean.Id" class="btn btn-primary">View Details</a>
    </div>
}

@code {
    private string searchQuery = "";
    private List<CoffeBeans> FilteredBeans => BeanService.GetAllBeans()
        .Where(b => b.Name.Contains(searchQuery, StringComparison.OrdinalIgnoreCase))
        .ToList();
}